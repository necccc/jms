#!/bin/bash

start() {

    ppm2 start processes.json > /dev/null 2>&1
    RET=$?
    exit $RET
}

stop() {

    pm2 delete processes.json > /dev/null 2>&1
    RET=$?
    exit $RET

}

deploy () {

	node bin/jms-deploy.js

}

restart () {

    pm2 restart jms > /dev/null 2>&1
    RET=$?
    exit $RET

}

status () {

    node bin/status.js

}


case "$1" in
	start)
		start
	;;
	stop)
		stop
	;;
	status)
		status
	;;
	deploy)
		deploy
	;;
	restart|reload)
		restart
	;;
*)
	echo $"Usage: $0 {start|stop|restart|deploy|status}"
	exit 1
esac
exit 0
